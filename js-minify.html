<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JS Minifier Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    /* Theme: JavaScript Dark Mode (Black & Yellow) */
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
    
    body {
        background-color: #111; /* Pitch Black */
        color: #ddd;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }

    .container {
        width: 100%;
        max-width: 950px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    /* Header */
    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #1e1e1e;
        padding: 15px 25px;
        border-radius: 12px;
        border-bottom: 3px solid #f7df1e; /* JS Yellow */
    }
    .brand {
        display: flex;
        align-items: center;
        gap: 12px;
    }
    .js-logo {
        background: #f7df1e;
        color: #000;
        font-weight: 800;
        width: 40px; height: 40px;
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
        padding: 4px;
        border-radius: 4px;
        font-size: 18px;
    }
    .title h2 { font-size: 20px; font-weight: 700; color: white; }
    .title p { font-size: 12px; color: #888; margin-top: 2px; }

    /* Stats Bar */
    .stats-bar {
        background: #1e1e1e;
        padding: 12px 20px;
        border-radius: 8px;
        display: flex;
        justify-content: space-between;
        font-size: 13px;
        border: 1px solid #333;
    }
    .stat span { color: #888; margin-right: 5px; }
    .stat strong { color: #f7df1e; }

    /* Editor Layout */
    .editors {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        height: 500px;
    }

    .box {
        background: #1e1e1e;
        border-radius: 10px;
        border: 1px solid #333;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        transition: 0.3s;
    }
    .box:focus-within { border-color: #f7df1e; }

    .box-head {
        background: #252526;
        padding: 10px 15px;
        font-size: 12px;
        font-weight: bold;
        color: #aaa;
        border-bottom: 1px solid #333;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    textarea {
        flex: 1;
        background: #1e1e1e;
        color: #d4d4d4;
        border: none;
        padding: 15px;
        resize: none;
        font-family: 'Fira Code', monospace;
        font-size: 13px;
        line-height: 1.5;
        outline: none;
    }
    /* Scrollbar */
    textarea::-webkit-scrollbar { width: 8px; }
    textarea::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }

    /* Action Toolbar */
    .toolbar {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 10px;
    }

    .btn {
        padding: 12px 25px;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        transition: 0.2s;
    }

    .btn-min { background: #f7df1e; color: #000; }
    .btn-min:hover { background: #e5cf1c; }

    .btn-format { background: #333; color: white; border: 1px solid #444; }
    .btn-format:hover { background: #444; }

    .icon-btn {
        background: none;
        border: none;
        color: #777;
        cursor: pointer;
        font-size: 14px;
    }
    .icon-btn:hover { color: #fff; }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .editors { grid-template-columns: 1fr; height: auto; }
        textarea { height: 250px; }
        .header { flex-direction: column; text-align: center; gap: 10px; }
    }

    /* Toast Notification */
    .toast {
        position: fixed;
        bottom: 30px; left: 50%; transform: translateX(-50%);
        background: #333; color: #f7df1e;
        padding: 10px 25px; border-radius: 50px;
        font-weight: bold; font-size: 14px;
        display: none; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }

    /* --- FLOATING HOME BUTTON STYLE --- */
    .floating-home-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10000;
        background: #f7df1e; /* JS Yellow */
        color: #000; /* Black Text for contrast */
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 50px;
        font-family: 'Inter', sans-serif;
        font-weight: 700;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        border: 2px solid rgba(255,255,255,0.2);
        box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        backdrop-filter: blur(5px);
        animation: pulse-glow 2s infinite;
    }
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 0 0 rgba(247, 223, 30, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { box-shadow: 0 0 0 0 rgba(247, 223, 30, 0); transform: scale(1); }
    }
    .floating-home-btn:hover { background: #e5cf1c; transform: scale(1.1); }
</style>
</head>
<body>

<a href="index.html" class="floating-home-btn">
    <i class="fa-solid fa-house"></i> HOME
</a>

<div class="container">
    
    <div class="header">
        <div class="brand">
            <div class="js-logo">JS</div>
            <div class="title">
                <h2>JS Minifier Pro</h2>
                <p>Compress & Obfuscate JavaScript</p>
            </div>
        </div>
        <div class="stats-bar">
            <div class="stat"><span>Original:</span> <strong id="origSize">0 B</strong></div>
            <div class="stat" style="margin-left: 15px;"><span>Minified:</span> <strong id="miniSize">0 B</strong></div>
        </div>
    </div>

    <div class="editors">
        <div class="box">
            <div class="box-head">
                INPUT JAVASCRIPT
                <div>
                    <button class="icon-btn" onclick="pasteCode()" title="Paste"><i class="fa-regular fa-clipboard"></i></button>
                    <button class="icon-btn" onclick="clearAll()" title="Clear"><i class="fa-solid fa-trash"></i></button>
                </div>
            </div>
            <textarea id="inputJS" placeholder="// Paste your JavaScript code here..."></textarea>
        </div>

        <div class="box">
            <div class="box-head">
                OUTPUT
                <button class="icon-btn" onclick="copyCode()" title="Copy"><i class="fa-regular fa-copy"></i></button>
            </div>
            <textarea id="outputJS" readonly placeholder="Minified code will appear here..."></textarea>
        </div>
    </div>

    <div class="toolbar">
        <button class="btn btn-format" onclick="beautifyJS()"><i class="fa-solid fa-wand-magic-sparkles"></i> Beautify</button>
        <button class="btn btn-min" onclick="minifyJS()"><i class="fa-solid fa-compress"></i> Minify JS</button>
    </div>

</div>

<div class="toast" id="toast">Code Copied!</div>

<script>
    const inputJS = document.getElementById('inputJS');
    const outputJS = document.getElementById('outputJS');
    const origSize = document.getElementById('origSize');
    const miniSize = document.getElementById('miniSize');
    const toast = document.getElementById('toast');

    // Helper: Format Bytes
    function formatBytes(bytes) {
        if (bytes === 0) return '0 B';
        const k = 1024;
        const sizes = ['B', 'KB', 'MB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    // 1. Minify Logic (Basic JS Minification)
    function minifyJS() {
        let code = inputJS.value;
        if(!code) return;

        // Basic Regex Minification
        // 1. Remove single line comments
        // 2. Remove multi line comments
        // 3. Remove new lines and excessive spaces
        let minified = code
            .replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm, '$1') // Remove comments
            .replace(/\s+/g, ' ') // Collapse whitespace
            .replace(/^\s+|\s+$/g, '') // Trim
            .replace(/\s*([=+\-*/{}();,:])\s*/g, '$1') // Remove spaces around operators
            .replace(/;}/g, '}'); // Remove last semicolon in block

        outputJS.value = minified;
        updateStats(code.length, minified.length);
    }

    // 2. Beautify Logic (Basic Formatting)
    function beautifyJS() {
        let code = inputJS.value;
        if(!code) return;

        let formatted = "";
        let indent = 0;
        
        // Simple beautifier loop
        code.split('').forEach(char => {
            if (char === '{') {
                indent++;
                formatted += ' {\n' + '  '.repeat(indent);
            } else if (char === '}') {
                indent--;
                formatted += '\n' + '  '.repeat(indent) + '}';
            } else if (char === ';') {
                formatted += ';\n' + '  '.repeat(indent);
            } else {
                formatted += char;
            }
        });
        
        // Fix up spacing around braces
        formatted = formatted.replace(/^\s+/gm, '  '.repeat(indent));
        
        outputJS.value = formatted.trim();
        updateStats(code.length, formatted.length);
    }

    function updateStats(orig, mini) {
        origSize.innerText = formatBytes(orig);
        miniSize.innerText = formatBytes(mini);
    }

    // Actions
    function clearAll() {
        inputJS.value = "";
        outputJS.value = "";
        updateStats(0,0);
    }

    async function pasteCode() {
        try {
            const text = await navigator.clipboard.readText();
            inputJS.value = text;
        } catch (err) {
            alert('Clipboard permission denied');
        }
    }

    function copyCode() {
        if(!outputJS.value) return;
        outputJS.select();
        document.execCommand('copy');
        showToast();
    }

    function showToast() {
        toast.style.display = 'block';
        setTimeout(() => toast.style.display = 'none', 2000);
    }
</script>

</body>
</html>
