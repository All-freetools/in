<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fixed Age Calculator</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    /* Theme: Deep Purple */
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
    
    body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }

    .container {
        background: white;
        width: 100%;
        max-width: 600px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        overflow: hidden;
    }

    .header {
        background: #f3f4f6;
        padding: 20px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }
    .header h2 { color: #5b21b6; margin: 0; }

    .input-area {
        padding: 25px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    label { font-size: 13px; font-weight: bold; color: #555; display: block; margin-bottom: 5px; }
    input {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        outline: none;
    }
    input:focus { border-color: #7c3aed; }

    button {
        background: #7c3aed;
        color: white;
        border: none;
        padding: 15px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.2s;
    }
    button:active { transform: scale(0.98); }

    /* Results */
    #resultBox {
        display: none;
        padding: 0 25px 25px 25px;
        border-top: 1px solid #eee;
    }
    
    .age-highlight {
        text-align: center;
        margin: 20px 0;
        background: #f5f3ff;
        padding: 20px;
        border-radius: 12px;
        color: #5b21b6;
        border: 1px solid #ddd6fe;
    }
    .age-highlight h1 { margin: 0; font-size: 28px; }
    .age-highlight p { margin: 5px 0 0 0; font-size: 13px; color: #666; }

    .grid-info {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    .info-card {
        background: #fafafa;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #eee;
        text-align: center;
    }
    .val { font-weight: bold; font-size: 16px; color: #333; display: block; }
    .lbl { font-size: 11px; color: #777; text-transform: uppercase; margin-top: 5px; display: block; }

    /* --- FLOATING HOME BUTTON STYLE --- */
    .floating-home-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10000;
        background: #111;
        color: white;
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 50px;
        font-family: sans-serif;
        font-weight: bold;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        border: 2px solid white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        animation: pulse-glow 2s infinite;
    }
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); transform: scale(1); }
    }
    .floating-home-btn:hover { background: #333; }

</style>
</head>
<body>

<a href="index.html" class="floating-home-btn">
    <i class="fa-solid fa-house"></i> HOME
</a>

<div class="container">
    <div class="header">
        <h2>Age Master</h2>
    </div>

    <div class="input-area">
        <div>
            <label>Date of Birth</label>
            <input type="date" id="dob">
        </div>
        <div>
            <label>Today's Date</label>
            <input type="date" id="today">
        </div>
        <button onclick="calculate()">Calculate Age</button>
    </div>

    <div id="resultBox">
        <div class="age-highlight">
            <h1 id="ageMain">0 Years</h1>
            <p>Your Exact Age</p>
        </div>

        <div class="grid-info">
            <div class="info-card" style="border-left: 3px solid #2196f3;">
                <span class="val" id="bornDay">---</span>
                <span class="lbl">Born On</span>
            </div>
            <div class="info-card" style="border-left: 3px solid #ff9800;">
                <span class="val" id="zodiac">---</span>
                <span class="lbl">Zodiac</span>
            </div>
            <div class="info-card" style="border-left: 3px solid #4caf50;">
                <span class="val" id="nextBday">---</span>
                <span class="lbl">Next Birthday</span>
            </div>
            <div class="info-card" style="border-left: 3px solid #9c27b0;">
                <span class="val" id="totalDays">0</span>
                <span class="lbl">Total Days Alive</span>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. Auto Set Today's Date (Fixed for Mobile)
    window.onload = function() {
        const now = new Date();
        const day = ("0" + now.getDate()).slice(-2);
        const month = ("0" + (now.getMonth() + 1)).slice(-2);
        const todayStr = now.getFullYear() + "-" + (month) + "-" + (day);
        document.getElementById('today').value = todayStr;
    };

    function calculate() {
        const dobStr = document.getElementById('dob').value;
        const todayStr = document.getElementById('today').value;

        if(!dobStr || !todayStr) {
            alert("Please select your Date of Birth!");
            return;
        }

        // 2. Parse Dates Manually to Avoid Timezone Glitch
        const d1 = new Date(dobStr);
        const d2 = new Date(todayStr);

        // Simple check
        if(d1 > d2) {
            alert("Date of Birth cannot be in the future!");
            return;
        }

        // 3. Exact Age Calc
        let years = d2.getFullYear() - d1.getFullYear();
        let months = d2.getMonth() - d1.getMonth();
        let days = d2.getDate() - d1.getDate();

        if (days < 0) {
            months--;
            // Get days in previous month
            let prevMonth = new Date(d2.getFullYear(), d2.getMonth(), 0);
            days += prevMonth.getDate();
        }
        if (months < 0) {
            years--;
            months += 12;
        }

        // 4. Update UI
        document.getElementById('ageMain').innerText = `${years} Y, ${months} M, ${days} D`;
        document.getElementById('resultBox').style.display = 'block';

        // 5. Day of Birth (Fix for Local Time)
        const parts = dobStr.split('-');
        const localDob = new Date(parts[0], parts[1]-1, parts[2]); 
        const daysArr = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        document.getElementById('bornDay').innerText = daysArr[localDob.getDay()];

        // 6. Zodiac
        const day = localDob.getDate();
        const month = localDob.getMonth() + 1;
        document.getElementById('zodiac').innerText = getZodiac(day, month);

        // 7. Next Birthday
        let nextBday = new Date(d2.getFullYear(), d1.getMonth(), d1.getDate());
        if(d2 > nextBday) {
            nextBday.setFullYear(d2.getFullYear() + 1);
        }
        const diff = nextBday - d2;
        const daysLeft = Math.ceil(diff / (1000 * 60 * 60 * 24));
        document.getElementById('nextBday').innerText = daysLeft + " Days Left";

        // 8. Total Days
        const totalDiff = Math.abs(d2 - d1);
        const totalDaysAlive = Math.ceil(totalDiff / (1000 * 60 * 60 * 24));
        document.getElementById('totalDays').innerText = totalDaysAlive.toLocaleString();
    }

    function getZodiac(day, month) {
        if((month == 1 && day <= 20) || (month == 12 && day >=22)) return "Capricorn";
        if((month == 1 && day >= 21) || (month == 2 && day <= 18)) return "Aquarius";
        if((month == 2 && day >= 19) || (month == 3 && day <= 20)) return "Pisces";
        if((month == 3 && day >= 21) || (month == 4 && day <= 19)) return "Aries";
        if((month == 4 && day >= 20) || (month == 5 && day <= 20)) return "Taurus";
        if((month == 5 && day >= 21) || (month == 6 && day <= 20)) return "Gemini";
        if((month == 6 && day >= 21) || (month == 7 && day <= 22)) return "Cancer";
        if((month == 7 && day >= 23) || (month == 8 && day <= 22)) return "Leo";
        if((month == 8 && day >= 23) || (month == 9 && day <= 22)) return "Virgo";
        if((month == 9 && day >= 23) || (month == 10 && day <= 22)) return "Libra";
        if((month == 10 && day >= 23) || (month == 11 && day <= 21)) return "Scorpio";
        if((month == 11 && day >= 22) || (month == 12 && day <= 21)) return "Sagittarius";
        return "";
    }
</script>

</body>
</html>
