<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML Viewer Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    /* Theme: VS Code Dark */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
        background-color: #1e1e1e; /* Dark BG */
        height: 100vh;
        display: flex;
        flex-direction: column;
        color: #d4d4d4;
        font-family: 'Inter', sans-serif;
        overflow: hidden;
    }

    /* 1. Header Toolbar */
    .toolbar {
        background: #252526;
        padding: 10px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #333;
        height: 60px;
        flex-shrink: 0;
    }
    
    .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        color: #007acc; /* VS Code Blue */
    }

    .action-btns {
        display: flex;
        gap: 10px;
    }

    .btn {
        border: none;
        padding: 8px 15px;
        border-radius: 4px;
        font-size: 13px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
        font-weight: 600;
        transition: 0.2s;
    }
    .btn-run { background: #0e639c; color: white; } /* Blue */
    .btn-run:active { background: #1177bb; }
    
    .btn-clear { background: #3c3c3c; color: #ccc; }
    .btn-clear:hover { background: #4b4b4b; }

    /* 2. Main Workspace */
    .workspace {
        display: flex;
        flex: 1;
        height: calc(100vh - 60px);
        overflow: hidden;
    }

    /* Editor Section (Left/Top) */
    .editor-container {
        flex: 1;
        display: flex;
        border-right: 1px solid #333;
        background: #1e1e1e;
        position: relative;
    }

    /* Line Numbers */
    .line-numbers {
        width: 40px;
        background: #1e1e1e;
        color: #858585;
        text-align: right;
        padding: 15px 5px;
        font-family: 'Fira Code', monospace;
        font-size: 14px;
        line-height: 24px; /* Must match textarea line-height */
        border-right: 1px solid #333;
        user-select: none;
        overflow: hidden;
    }

    /* Text Area */
    textarea {
        flex: 1;
        background: #1e1e1e;
        color: #d4d4d4;
        border: none;
        outline: none;
        resize: none;
        padding: 15px;
        font-family: 'Fira Code', monospace;
        font-size: 14px;
        line-height: 24px; /* Must match line-numbers line-height */
        white-space: pre;
        overflow: auto;
    }
    
    /* Scrollbar Styling */
    textarea::-webkit-scrollbar { width: 10px; height: 10px; }
    textarea::-webkit-scrollbar-track { background: #1e1e1e; }
    textarea::-webkit-scrollbar-thumb { background: #444; border-radius: 5px; }
    textarea::-webkit-scrollbar-thumb:hover { background: #555; }
    textarea::-webkit-scrollbar-corner { background: #1e1e1e; }

    /* Preview Section (Right/Bottom) */
    .preview-container {
        flex: 1;
        background: white;
        display: flex;
        flex-direction: column;
    }
    
    .preview-header {
        background: #2d2d2d;
        color: #ccc;
        padding: 5px 15px;
        font-size: 12px;
        border-bottom: 1px solid #333;
        display: flex;
        justify-content: space-between;
    }

    iframe {
        flex: 1;
        border: none;
        width: 100%;
        height: 100%;
    }

    /* --- FLOATING HOME BUTTON STYLE --- */
    .floating-home-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10000;
        background: #007acc; /* VS Code Blue */
        color: white;
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 50px;
        font-family: 'Inter', sans-serif;
        font-weight: 600;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        border: 2px solid rgba(255,255,255,0.2);
        box-shadow: 0 5px 15px rgba(0, 122, 204, 0.4);
        backdrop-filter: blur(5px);
        animation: pulse-glow 2s infinite;
    }
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 0 0 rgba(0, 122, 204, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { box-shadow: 0 0 0 0 rgba(0, 122, 204, 0); transform: scale(1); }
    }
    .floating-home-btn:hover { background: #0063a5; transform: scale(1.1); }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .workspace { flex-direction: column; }
        .editor-container { height: 50%; border-right: none; border-bottom: 1px solid #333; }
        .preview-container { height: 50%; }
        .brand span { display: none; } /* Hide text on small screens */
    }
</style>
</head>
<body>

<a href="index.html" class="floating-home-btn">
    <i class="fa-solid fa-house"></i> HOME
</a>

<div class="toolbar">
    <div class="brand">
        <i class="fa-solid fa-code"></i> <span>HTML Viewer Pro</span>
    </div>
    <div class="action-btns">
        <button class="btn btn-clear" onclick="clearCode()"><i class="fa-solid fa-trash"></i> Clear</button>
        <button class="btn btn-run" onclick="runCode()"><i class="fa-solid fa-play"></i> Run</button>
    </div>
</div>

<div class="workspace">
    <div class="editor-container">
        <div class="line-numbers" id="lineNumbers">1</div>
        <textarea id="codeEditor" spellcheck="false" placeholder="<h1>Hello World!</h1>
<p>This is a live preview.</p>
<style>
  h1 { color: #007acc; font-family: sans-serif; }
</style>"></textarea>
    </div>

    <div class="preview-container">
        <div class="preview-header">
            <span>BROWSER PREVIEW</span>
            <span><i class="fa-solid fa-eye"></i></span>
        </div>
        <iframe id="previewFrame"></iframe>
    </div>
</div>

<script>
    const editor = document.getElementById('codeEditor');
    const lineNumbers = document.getElementById('lineNumbers');
    const preview = document.getElementById('previewFrame');

    // 1. Run Code Function
    function runCode() {
        const code = editor.value;
        const doc = preview.contentDocument || preview.contentWindow.document;
        doc.open();
        doc.write(code);
        doc.close();
    }

    // 2. Clear Code Function
    function clearCode() {
        if(confirm("Clear all code?")) {
            editor.value = "";
            updateLineNumbers();
            runCode();
        }
    }

    // 3. Sync Line Numbers
    function updateLineNumbers() {
        const lines = editor.value.split('\n').length;
        lineNumbers.innerHTML = Array(lines).fill(0).map((_, i) => i + 1).join('<br>');
    }

    // 4. Event Listeners
    editor.addEventListener('input', () => {
        updateLineNumbers();
        // Optional: Auto-run (debounce recommended for real apps, but direct run is fine for simple usage)
        // runCode(); 
    });

    editor.addEventListener('scroll', () => {
        lineNumbers.scrollTop = editor.scrollTop;
    });

    // Initial Run
    updateLineNumbers();
    runCode();

</script>

</body>
</html>
